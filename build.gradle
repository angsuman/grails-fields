buildscript {
	repositories {
		mavenLocal()
		maven { url "https://repo.grails.org/grails/core" }
	}
	dependencies {
		classpath "org.grails:grails-gradle-plugin:$grailsVersion"
		classpath 'io.github.groovylang.groovydoc:groovydoc-gradle-plugin:1.0.1'
	}
}

version project.projectVersion
group "org.grails.plugins"

apply plugin:"eclipse"
apply plugin:"idea"
apply plugin: "org.grails.grails-plugin"
apply plugin: "org.grails.grails-gsp"
apply plugin: "org.grails.grails-plugin-publish"

ext {
	commonBuild = 'https://raw.githubusercontent.com/grails/grails-common-build/1549696f8d1a6bce3d84db9c4c1bfde61eddf175'

}

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
	mavenLocal()
	mavenCentral()
	maven { url "https://repo.grails.org/grails/core" }
}

dependencies {
	compile "org.springframework.boot:spring-boot-starter-logging"
	compile "org.springframework.boot:spring-boot-autoconfigure"
	compile "org.grails:grails-core"
	compile "org.springframework.boot:spring-boot-starter-actuator"
	compile "org.springframework.boot:spring-boot-starter-tomcat"
	compile "org.grails:grails-web-boot"
	compile "org.grails:grails-logging"
	compile "org.grails:grails-plugin-databinding"
	compile "org.grails:scaffolding-core:$scaffoldingVersion"

	compile "org.grails.plugins:gsp"
	console "org.grails:grails-console"
	profile "org.grails.profiles:web-plugin"
	provided "org.grails:grails-plugin-domain-class"
	testCompile "org.grails:grails-gorm-testing-support"
	testCompile "org.grails:grails-web-testing-support"

	testCompile "org.codehaus.groovy:groovy-dateutil:$groovyVersion"
	testCompile "cglib:cglib-nodep:$cglibNodepVersion"
	testCompile("org.jodd:jodd-wot:$joddWotVersion") {
		exclude module: 'slf4j-api'
		exclude module: 'asm'
	}
}

grailsPublish {
	userOrg = "grails"
	githubSlug = project.githubSlug
	license {
		name = 'Apache-2.0'
	}
	title = project.title
	desc = project.projectDesc

	developers = [
			graemerocher: "Graeme Rocher",
			robfletcher: "Rob Fletcher",
			sbglasius: "SÃ¸ren Berg Glasius"
	]
}

apply from: "${commonBuild}/common-docs.gradle"
